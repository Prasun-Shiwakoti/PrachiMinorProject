<!DOCTYPE html>
<html lang="en">

<head>
    {%load static%}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'login/css/newpassword.css' %}">
    <title>New Password - College Management System</title>
</head>

<body>

    <nav class="navbar">
        <div class="logo">
            <img src="/media/keclogo.jpg" alt="College Logo">
        </div>
        <div class="title">
            <h1>Kathmandu Engineering College</h1>
            <p>College Management System</p>
        </div>
        <div class="list">
            <a href="#">Home</a>
            <a href="#">Login</a>
        </div>
    </nav>

    <div class="new-password-section">
        <h1>Create New Password</h1>
        <br> <br>

        <div class="new-password-form">
            <form action="#" method="post" onsubmit="return validateForm()">
                <label for="newPassword">New Password:</label>
                <input type="password" id="newPassword" name="newPassword" required>
                <span id="passwordStrength"></span>

                <label for="confirmPassword">Re-enter Password:</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>

                <button type="submit">Set New Password</button>
            </form>
        </div>
    </div>
    <br> <br> <br> <br>

    <div class="footer">
        <div class="t2">
            <h2>Kathmandu Engineering College</h2>
            <p>Kalimati 3928 <br> Kathmandu, Nepal</p>
        </div>
        <div class="contact">
            <p>Phone: 01-5372833, 9863035297, 01-5372833, 01-5372653<br> Email: info@kecktm.edu.np
                <br> Web: www.kec.edu.np</p>
        </div>
        <footer class="replace">
            <br> <br> <br><br> <br> <br> Copyright &copy; 2023 KEC. All rights reserved worldwide.
        </footer>
    </div>

    <script>
        function validateForm() {
            var newPassword = document.getElementById("newPassword").value;
            var confirmPassword = document.getElementById("confirmPassword").value;

            // Check if passwords match
            if (newPassword !== confirmPassword) {
                alert("Passwords do not match");
                return false;
            }

            // Check password strength
            var strength = checkPasswordStrength(newPassword);

            if (strength < 2) {
                alert("Password is weak. Please use a stronger password.");
                return false;
            }

            return true;
        }

        function checkPasswordStrength(password) {
            // Add your password strength logic here
            // For simplicity, let's assume a password is strong if it has at least 8 characters and contains both letters and numbers.
            if (password.length >= 8 && /[a-zA-Z]/.test(password) && /\d/.test(password)) {
                document.getElementById("passwordStrength").innerHTML = "Password strength: Strong";
                return 2; // Strong
            } else {
                document.getElementById("passwordStrength").innerHTML = "Password strength: Weak";
                return 1; // Weak
            }
        }
    </script>
</body>

</html>